(c=>{function o(){var o=window.pageYOffset||document.documentElement.scrollTop;(c("#masthead").length?c("#masthead").outerHeight():c(window).outerHeight()/2)<o?c("#scroll-to-top").hasClass("show")||c("#scroll-to-top").css("pointer-events","auto").addClass("show"):c("#scroll-to-top").hasClass("show")&&c("#scroll-to-top").css("pointer-events","none").removeClass("show")}function s(){var o=c("#wpadminbar").outerHeight(),t=c("body").hasClass("admin-bar"),e=c("header").hasClass("sticky"),n=c(".site-header"),t=e&&t&&600<c(window).width()?o+c("header").outerHeight()-1:e?c("header").outerHeight()-1:0;return n.data("scale-logo")&&!n.hasClass("stuck")&&(t+=(o=parseInt(n.css("padding-bottom")))-o*polestar.logoScale*2),t}c.fn.polestarIsVisible=function(){var o=this[0].getBoundingClientRect();return 0<=o.bottom&&0<=o.right&&o.top<=(window.innerHeight||document.documentElement.clientHeight)&&o.left<=(window.innerWidth||document.documentElement.clientWidth)},c(window).on("load",function(){c(".entry-thumbnail").each(function(){img=c(this).find("img"),img_width=img.width(),img_height=img.height(),c(this).css({maxWidth:img_width,maxHeight:img_height})})}),void 0!==c.fn.fitVids&&c(".entry-content, .entry-content .panel, .entry-video, .woocommerce #main").fitVids({ignore:".tableauViz"}),c(document).ready(function(){c(".flexslider").each(function(){c(this).flexslider({animation:"slide",controlNav:!1,customDirectionNav:c(this).find(".flex-direction-nav a"),start:function(){c(".flexslider .slides img").show()}}),c(window).one("panelsStretchRows",function(){c("body:not(.siteorigin-panels-css-container) .siteorigin-panels-stretch .flexslider").flexslider().resize()})})}),o(),c(window).on("scroll",o),c("#scroll-to-top").on("click",function(){c("html, body").stop().animate({scrollTop:0})});var t=c("#header-search"),e=(c("#masthead .search-icon").on("click",function(){t.fadeIn("fast"),t.find("form").css("margin-top",-t.find("form").innerHeight()/2),t.find('input[type="search"]').trigger("focus").trigger("select"),t.find("#close-search").addClass("animate-in")}),t.find("#close-search").on("click",function(){t.fadeOut(350),c(this).removeClass("animate-in")}),c(window).on("scroll",function(){t.is(":visible")&&t.find("form").css("margin-top",-t.find("form").outerHeight()/2)}),c("#header-search input[type=search]").on("focusout",function(o){c("body").hasClass("disable-search-close")||c("#close-search.animate-in").trigger("click")}),c(document).on("keyup",function(o){27==o.keyCode&&c("#close-search.animate-in").trigger("click")}),c(window).on("load",function(){c("body.no-js").removeClass("no-js"),c("body").hasClass("css3-animations")&&(c(".menu-item").children("a").on("focusin",function(){c(this).parents("ul, li").addClass("focus")}),c(".menu-item").children("a").on("click",function(){c(this).parents("ul, li").removeClass("focus")}),c(".menu-item").children("a").on("focusout",function(){c(this).parents("ul, li").removeClass("focus")}))}),c(document).ready(function(o){window.location.hash||(o('#site-navigation a[href="'+window.location.href+'"]').parent("li").addClass("current-menu-item"),o(window).on("click",function(){o("#site-navigation ul li").hasClass("current")?(o("#site-navigation li").removeClass("current-menu-item"),o("#site-navigation li.current-menu-ancestor").removeClass("current-menu-ancestor current-menu-parent")):0==o(document).scrollTop()&&(o('#site-navigation a[href="'+window.location.href+'"]').parent("li").addClass("current-menu-item"),o('#site-navigation a[href="'+window.location.href+'"]').parents("li.menu-item-has-children").addClass("current-menu-ancestor current-menu-parent"))}))}),("ontouchstart"in document.documentElement||window.navigator.msMaxTouchPoints||window.navigator.MaxTouchPoints)&&(/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream&&(c("body").css("cursor","pointer"),c("body").addClass("ios")),c(".main-navigation #primary-menu").find(".menu-item-has-children > a").each(function(){c(this).on("click touchend",function(o){var t=c(this);o.stopPropagation(),"click"!=o.type&&(t.parent().hasClass("hover")||(c(".menu-item.hover").removeClass("hover"),t.parents(".menu-item").addClass("hover"),o.preventDefault()),c(document).one("click",function(){t.parent().removeClass("hover")}))})})),c.fn.polestarSmoothScroll=function(){c("body").hasClass("disable-smooth-scroll")||c(this).on("click",function(o){var t=this.hash.substring(1);if(0<c(".panel-grid [id*="+t+"]").length?(c("#site-navigation .current").removeClass("current"),c(this).parent("li").addClass("current")):c("#site-navigation .current").removeClass("current"),location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")&&location.hostname==this.hostname){t=c(this.hash);if((t=t.length?t:c("[name="+this.hash.slice(1)+"]")).length)return c("html, body").stop().animate({scrollTop:t.offset().top-s()},{duration:1200,start:function(){c("html, body").on("wheel touchmove",function(){c("html, body").stop().off("wheel touchmove")})},complete:function(){c("html, body").finish().off("wheel touchmove")}}),!1}})},c(window).on("load",function(){var o;c('#site-navigation a[href*="#"]:not([href="#"]), .comments-link a[href*="#"]:not([href="#"]), .woocommerce-review-link[href*="#"]:not([href="#"]), .puro-scroll[href*="#"]:not([href="#"])').polestarSmoothScroll(),location.pathname.replace(/^\//,"")==window.location.pathname.replace(/^\//,"")&&location.hostname==window.location.hostname&&(o=c(window.location.hash)).length&&setTimeout(function(){c("html, body").animate({scrollTop:o.offset().top-s()},0,function(){c("#masthead").hasClass("sticky-menu")&&smSetup()})},100)}),c(window).on("scroll",function(){var i=c(window).scrollTop(),a="no";c(".panel-row-style").each(function(){var o="#"+c(this).attr("id"),t=c(this).offset().top-1,e=c(this).outerHeight(),n=t-s(),t=t+e-s();if(n<=i&&i<=t)return a="yes",c("#site-navigation .current").removeClass("current"),c('#site-navigation a[href$="'+o+'"]').parent("li").addClass("current"),!1;"no"===a&&c("#site-navigation .current").removeClass("current")})}),!1);c("#mobile-menu-button").on("click",function(o){o.preventDefault();var t=c(this);t.toggleClass("to-close"),!1===e&&(e=c("<div></div>").append(c(".main-navigation ul").first().clone()).attr("id","mobile-navigation").appendTo("#masthead").hide(),c("#header-search form").length&&e.append(c("#header-search form").clone()),c(".main-navigation .shopping-cart").length&&e.append(c(".main-navigation .shopping-cart .shopping-cart-link").clone()),e.find("#primary-menu").show().css("opacity",1),e.find(".menu-item-has-children > a").addClass("has-dropdown"),e.find(".page_item_has_children > a").addClass("has-dropdown"),e.find(".has-dropdown").after('<button class="dropdown-toggle" aria-expanded="false"><i class="icon-chevron-down" aria-hidden="true"></i></button>'),e.find(".dropdown-toggle").on("click",function(o){o.preventDefault(),c(this).toggleClass("toggle-open").next(".children, .sub-menu").slideToggle("fast")}),e.find(".has-dropdown").click(function(o){void 0!==c(this).attr("href")&&"#"!=c(this).attr("href")||(o.preventDefault(),c(this).siblings(".dropdown-toggle").trigger("click"))}),(o=function(){var o,t;c("#masthead").hasClass("sticky")&&(o="fixed"===c("#wpadminbar").css("position")?c("#wpadminbar").outerHeight():0,t=c("#masthead").innerHeight(),t=c(window).height()-t-o,c("#mobile-navigation").css("max-height",t))})(),c(window).on("resize",o),c("#mobile-navigation").scroll(o)),e.slideToggle("fast"),c("#mobile-navigation a").on("click",function(o){(!c(this).hasClass("has-dropdown")||void 0!==c(this).attr("href")&&"#"!==c(this).attr("href"))&&e.is(" :visible")&&e.slideUp("fast"),t.removeClass("to-close")}),c('#mobile-navigation a[href*="#"]:not([href="#"])').polestarSmoothScroll()}),c(window).on("load",function(){polestar.logoScale=parseFloat(polestar.logoScale);var n,i,o,t,e,a,s,r=c("#masthead"),l={top:parseInt(r.css("padding-top")),bottom:parseInt(r.css("padding-bottom"))};r.data("scale-logo")&&(s=(n=r.find(".site-branding img")).width(),a=n.height(),i=s*polestar.logoScale,scaledHeight=a*polestar.logoScale,c(".site-branding img").wrap("<div class='custom-logo-wrapper'></div>"),(s=function(){var o,t=r.find(".site-branding > *"),e=window.pageYOffset||document.documentElement.scrollTop;0<e?r.css({"padding-top":l.top*polestar.logoScale,"padding-bottom":l.bottom*polestar.logoScale}):r.css({"padding-top":l.top,"padding-bottom":l.bottom}),n.length?0<e?(o=polestar.logoScale+Math.max(0,48-e)/48*(1-polestar.logoScale),n.height()==scaledHeight&&n.width()==i&&o==polestar.logoScale||c(".site-branding img").css({width:100*o+"%"})):c(".site-branding img").css({width:""}):0<e?t.css("transform","scale("+polestar.logoScale+")"):t.css("transform","scale(1)")})(),c(window).scroll(s).resize(s)),c("#masthead").hasClass("sticky")&&(r=c("#masthead"),o=c('<div class="masthead-sentinel"></div>').insertAfter(r),t=c("#topbar"),e=c('#topbar .woocommerce-store-notice[style*="display: none"]'),(a=function(){c("body").hasClass("mobile-header-ns")&&c(window).width()<polestar.collapse||(!1!==o&&o.css("height",r.outerHeight()),c("body").hasClass("no-topbar")||t.polestarIsVisible()||c("body").addClass("topbar-out"),t.length&&c("body").hasClass("topbar-out")&&t.polestarIsVisible()&&c("body").removeClass("topbar-out"),c("body").hasClass("no-topbar")&&!c(window).scrollTop()&&c("body").addClass("topbar-out"),c("body").hasClass("no-topbar")||!c("body").hasClass("no-topbar")&&c("body").hasClass("topbar-out")||e.length?r.css("position","fixed"):c("body").hasClass("no-topbar")||c("body").hasClass("topbar-out")||r.css("position","absolute"))})(),c(window).on("resize scroll",a),(s=function(){0<c(window).scrollTop()?c(r).addClass("stuck"):c(r).removeClass("stuck")})(),c(window).on("scroll",s))})})(jQuery);